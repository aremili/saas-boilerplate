{#
Component Macros - Using Shoelace Web Components
https://shoelace.style/

Usage:
{% from "components/macros.html" import alert, badge, button %}

{{ alert("Operation successful!", type="success", dismissable=true) }}
{{ badge("New", variant="success") }}
{{ button("Submit", variant="primary", size="medium") }}
#}

{# Alert Macro - Using Shoelace sl-alert #}
{% macro alert(message, type="primary", dismissable=true, auto_dismiss=0) %}
{# Map common type names to Shoelace variants #}
{% set variant_map = {
"info": "primary",
"success": "success",
"warning": "warning",
"error": "danger",
"primary": "primary",
"danger": "danger"
} %}
{% set variant = variant_map.get(type, "primary") %}
<sl-alert variant="{{ variant }}" {% if dismissable %}closable{% endif %} open {% if auto_dismiss> 0 %}duration="{{
    auto_dismiss }}"{% endif %}
    class="animate-fade-in">
    <sl-icon slot="icon"
        name="{% if type == 'success' %}check2-circle{% elif type == 'error' or type == 'danger' %}exclamation-octagon{% elif type == 'warning' %}exclamation-triangle{% else %}info-circle{% endif %}"></sl-icon>
    {{ message }}
</sl-alert>
{% endmacro %}


{# Badge Macro - Using Shoelace sl-badge #}
{% macro badge(text, variant="neutral", pill=true) %}
{# Map color names to Shoelace variants #}
{% set variant_map = {
"gray": "neutral",
"red": "danger",
"yellow": "warning",
"green": "success",
"blue": "primary",
"purple": "neutral"
} %}
{% set sl_variant = variant_map.get(variant, variant) %}
<sl-badge variant="{{ sl_variant }}" {% if pill %}pill{% endif %}>{{ text }}</sl-badge>
{% endmacro %}


{# Button Macro - Using Shoelace sl-button #}
{% macro button(text, variant="primary", size="medium", href=none, disabled=false, icon=none, submit=false) %}
{% set variant_map = {
"primary": "primary",
"secondary": "neutral",
"danger": "danger",
"ghost": "text"
} %}
{% set sl_variant = variant_map.get(variant, variant) %}
<sl-button variant="{{ sl_variant }}" size="{{ size }}" {% if href %}href="{{ href }}" {% endif %} {% if disabled
    %}disabled{% endif %} {% if submit %}type="submit" submit{% endif %}>
    {% if icon %}
    <sl-icon slot="prefix" name="{{ icon }}"></sl-icon>
    {% endif %}
    {{ text }}
</sl-button>
{% endmacro %}


{# Input Macro - Using Shoelace sl-input #}
{% macro input(name, label="", type="text", placeholder="", required=false, value="", help_text="") %}
<sl-input name="{{ name }}" type="{{ type }}" {% if label %}label="{{ label }}" {% endif %} {% if placeholder
    %}placeholder="{{ placeholder }}" {% endif %} {% if required %}required{% endif %} {% if value %}value="{{ value }}"
    {% endif %} {% if help_text %}help-text="{{ help_text }}" {% endif %}>
</sl-input>
{% endmacro %}


{# Checkbox Macro - Using Shoelace sl-checkbox #}
{% macro checkbox(name, label="", checked=false, disabled=false, value="true") %}
<sl-checkbox name="{{ name }}" value="{{ value }}" {% if checked %}checked{% endif %} {% if disabled %}disabled{% endif
    %}>
    {{ label }}
</sl-checkbox>
{% endmacro %}


{# Number Input Macro - For counter/priority selection #}
{% macro number_input(name, label="", min=none, max=none, value=0, step=1, help_text="") %}
<sl-input type="number" name="{{ name }}" {% if label %}label="{{ label }}" {% endif %} {% if min is not none
    %}min="{{ min }}" {% endif %} {% if max is not none %}max="{{ max }}" {% endif %} value="{{ value }}"
    step="{{ step }}" {% if help_text %}help-text="{{ help_text }}" {% endif %} style="max-width: 120px;">
</sl-input>
{% endmacro %}