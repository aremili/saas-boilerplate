{# Task Stats Partial - Live-updated via HTMX triggers #}
{% set progress = (completed / total * 100) if total > 0 else 0 %}

<sl-card class="mb-6">
    <div class="flex items-center justify-between gap-4" style="flex-wrap: wrap;">
        <div class="flex items-center gap-4">
            <div style="text-align: center;">
                <p style="font-size: 1.875rem; font-weight: 700; margin: 0;">{{ total }}</p>
                <p class="text-sm text-muted" style="margin: 0;">Total Tasks</p>
            </div>
            <sl-divider vertical style="height: 2.5rem;"></sl-divider>
            <div style="text-align: center;">
                <p style="font-size: 1.875rem; font-weight: 700; margin: 0; color: var(--sl-color-success-600);">{{
                    completed }}</p>
                <p class="text-sm text-muted" style="margin: 0;">Completed</p>
            </div>
            <sl-divider vertical style="height: 2.5rem;"></sl-divider>
            <div style="text-align: center;">
                <p style="font-size: 1.875rem; font-weight: 700; margin: 0; color: var(--sl-color-primary-600);">{{
                    total - completed }}</p>
                <p class="text-sm text-muted" style="margin: 0;">Remaining</p>
            </div>
        </div>

        {# Progress Bar using Shoelace #}
        <div style="min-width: 8rem;">
            <div class="flex items-center justify-between text-sm mb-2">
                <span class="text-muted">Progress</span>
                <span class="font-medium">{{ progress | int }}%</span>
            </div>
            <sl-progress-bar value="{{ progress }}"></sl-progress-bar>
        </div>
    </div>
</sl-card>